"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[570],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>d});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(n),f=a,d=u["".concat(s,".").concat(f)]||u[f]||m[f]||i;return n?r.createElement(d,o(o({ref:t},p),{},{components:n})):r.createElement(d,o({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=f;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},3889:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var r=n(7462),a=(n(7294),n(3905));const i={},o="Fractional Amounts",l={unversionedId:"recipes/fractional-amounts",id:"recipes/fractional-amounts",title:"Fractional Amounts",description:"To maximize precision and efficiency, Account debits/credits",source:"@site/pages/recipes/fractional-amounts.md",sourceDirName:"recipes",slug:"/recipes/fractional-amounts",permalink:"/recipes/fractional-amounts",draft:!1,editUrl:"https://github.com/tigerbeetledb/tigerbeetle/blob/main/docs/recipes/fractional-amounts.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Currency Exchange",permalink:"/recipes/currency-exchange"},next:{title:"Accounts",permalink:"/reference/accounts"}},s={},c=[{value:"Asset Scale",id:"asset-scale",level:3},{value:"Examples",id:"examples",level:2},{value:"Oversized Amounts",id:"oversized-amounts",level:2}],p={toc:c},u="wrapper";function m(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"fractional-amounts"},"Fractional Amounts"),(0,a.kt)("p",null,"To maximize precision and efficiency, ",(0,a.kt)("a",{parentName:"p",href:"/reference/accounts"},(0,a.kt)("inlineCode",{parentName:"a"},"Account"))," debits/credits\nand ",(0,a.kt)("a",{parentName:"p",href:"/reference/transfers"},(0,a.kt)("inlineCode",{parentName:"a"},"Transfer"))," amounts are unsigned 64-bit integers.\nHowever, currencies are often denominated in fractional amounts."),(0,a.kt)("p",null,"To represent a fractional amount in TigerBeetle, map the smallest useful unit of the fractional\ncurrency to 1. Consider all amounts in TigerBeetle as a multiple of that unit."),(0,a.kt)("p",null,"Applications may rescale the integer amounts as necessary when rendering or interfacing with other\nsystems. But when working with fractional amounts, calculations should be performed on the integers\nto avoid loss of precision due to e.g. floating-point approximations."),(0,a.kt)("p",null,"TigerBeetle stores information precisely and efficiently, while applications can still\npresent fractional amounts to their users in a way that they are familiar with seeing them."),(0,a.kt)("h3",{id:"asset-scale"},"Asset Scale"),(0,a.kt)("p",null,"When the multiplier is a power of 10 (e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"10 ^ n"),"), then the exponent ",(0,a.kt)("inlineCode",{parentName:"p"},"n")," is referred to as an\n",(0,a.kt)("em",{parentName:"p"},"asset scale"),". For example, representing USD in cents uses an asset scale of ",(0,a.kt)("inlineCode",{parentName:"p"},"2"),"."),(0,a.kt)("h2",{id:"examples"},"Examples"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"In USD, ",(0,a.kt)("inlineCode",{parentName:"li"},"$1")," = ",(0,a.kt)("inlineCode",{parentName:"li"},"100")," cents. So for example,",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"The fractional amount ",(0,a.kt)("inlineCode",{parentName:"li"},"$0.45")," is represented as the integer ",(0,a.kt)("inlineCode",{parentName:"li"},"45"),"."),(0,a.kt)("li",{parentName:"ul"},"The fractional amount ",(0,a.kt)("inlineCode",{parentName:"li"},"$123.00")," is represented as the integer ",(0,a.kt)("inlineCode",{parentName:"li"},"12300"),"."),(0,a.kt)("li",{parentName:"ul"},"The fractional amount ",(0,a.kt)("inlineCode",{parentName:"li"},"$123.45")," is represented as the integer ",(0,a.kt)("inlineCode",{parentName:"li"},"12345"),".")))),(0,a.kt)("h2",{id:"oversized-amounts"},"Oversized Amounts"),(0,a.kt)("p",null,"The other direction works as well. If the smallest useful unit of a currency is ",(0,a.kt)("inlineCode",{parentName:"p"},"10,000,000 \xa4"),",\nthen it can be scaled down to the integer ",(0,a.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,a.kt)("p",null,"The 64-bit representation defines the precision, but not the scale."))}m.isMDXComponent=!0}}]);