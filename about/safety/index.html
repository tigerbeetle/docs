<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-about/safety" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Safety | TigerBeetle Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.tigerbeetle.com/about/safety"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Safety | TigerBeetle Docs"><meta data-rh="true" name="description" content="TigerBeetle is designed to a higher safety standard than a general-purpose relational database such"><meta data-rh="true" property="og:description" content="TigerBeetle is designed to a higher safety standard than a general-purpose relational database such"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.tigerbeetle.com/about/safety"><link data-rh="true" rel="alternate" href="https://docs.tigerbeetle.com/about/safety" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.tigerbeetle.com/about/safety" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://NPDIZGXHAP-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="TigerBeetle Docs" href="/opensearch.xml">

<script src="https://plausible.io/js/script.js" defer="defer" data-domain="docs.tigerbeetle.com"></script><link rel="stylesheet" href="/assets/css/styles.f6ff8e1d.css">
<link rel="preload" href="/assets/js/runtime~main.7d4944d4.js" as="script">
<link rel="preload" href="/assets/js/main.1b5a2d18.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="TigerBeetle Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-white.svg" alt="TigerBeetle Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">TigerBeetle Docs</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/tigerbeetle/tigerbeetle" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">TigerBeetle Docs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/coding/">Coding</a><button aria-label="Toggle the collapsible sidebar category &#x27;Coding&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/operating/deploy">Operating</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/clients/dotnet">Client Libraries</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/reference/account">Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/about/">About</a><button aria-label="Toggle the collapsible sidebar category &#x27;About&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/about/oltp">Built for OLTP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/about/performance">Performance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/about/safety">Safety</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/about/vopr">Deterministic Simulation Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/about/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/about/production-ready">Production Ready</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/about/zig">Zig</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/about/internals/">Internals</a><button aria-label="Toggle the collapsible sidebar category &#x27;Internals&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/about/"><span itemprop="name">About</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Safety</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Safety</h1><p>TigerBeetle is designed to a higher safety standard than a general-purpose relational database such
as MySQL or an in-memory database such as Redis:</p><ul><li><p>Strict consistency, CRCs and crash safety are not enough.</p></li><li><p>TigerBeetle <strong>handles and recovers from Latent Sector Errors</strong> (e.g. at least
<a href="https://www.usenix.org/system/files/fast20-maneas.pdf" target="_blank" rel="noopener noreferrer">0.031% of SSD disks per year on average</a>,
and
<a href="https://www.usenix.org/legacy/events/fast08/tech/full_papers/bairavasundaram/bairavasundaram.pdf" target="_blank" rel="noopener noreferrer">1.4% of Enterprise HDD disks per year on average</a>)
<strong>detects and repairs disk corruption or misdirected I/O where firmware reads/writes the wrong
sector</strong> (e.g. at least
<a href="https://www.usenix.org/system/files/fast20-maneas.pdf" target="_blank" rel="noopener noreferrer">0.023% of SSD disks per year on average</a>,
and
<a href="https://www.usenix.org/legacy/events/fast08/tech/full_papers/bairavasundaram/bairavasundaram.pdf" target="_blank" rel="noopener noreferrer">0.466% of Nearline HDD disks per year on average</a>),
and <strong>detects and repairs data tampering</strong> (on a minority of the cluster, as if it were
non-Byzantine corruption) with hash-chained cryptographic checksums.</p></li><li><p>TigerBeetle <strong>uses Direct I/O by design</strong> to sidestep
<a href="https://www.usenix.org/system/files/atc20-rebello.pdf" target="_blank" rel="noopener noreferrer">cache coherency bugs in the kernel page cache</a>
after an EIO fsync error.</p></li><li><p>TigerBeetle <strong>exceeds the fsync durability of a single disk</strong> and the hardware of a single server
because disk firmware can contain bugs and because single server systems fail.</p></li><li><p>TigerBeetle <strong>provides strict serializability</strong>, the gold standard of consistency, as a replicated
state machine, and as a cluster of TigerBeetle servers (called replicas), for optimal high
availability and distributed fault-tolerance.</p></li><li><p>TigerBeetle <strong>performs synchronous replication</strong> to a quorum of backup TigerBeetle servers using
the pioneering <a href="http://pmg.csail.mit.edu/papers/vr-revisited.pdf" target="_blank" rel="noopener noreferrer">Viewstamped Replication</a> and
consensus protocol for low-latency automated leader election and to eliminate the risk of
split-brain associated with ad hoc manual failover systems.</p></li><li><p>TigerBeetle is “fault-aware” and <strong>recovers from local storage failures in the context of the
global consensus protocol</strong>, providing
<a href="https://www.youtube.com/watch?v=fDY6Wi0GcPs" target="_blank" rel="noopener noreferrer">more safety than replicated state machines such as ZooKeeper and LogCabin</a>.
For example, TigerBeetle can disentangle corruption in the middle of the committed journal (caused
by bitrot) from torn writes at the end of the journal (caused by a power failure) to uphold
durability guarantees given for committed data and maximize availability.</p></li><li><p>TigerBeetle does not depend on synchronized system clocks, does not use leader leases, and
<strong>performs leader-based timestamping</strong> so that your application can deal only with safe relative
quantities of time with respect to transfer timeouts. To ensure that the leader&#x27;s clock is within
safe bounds of &quot;true time&quot;, TigerBeetle combines all the clocks in the cluster to create a
fault-tolerant clock that we call
<a href="https://tigerbeetle.com/blog/three-clocks-are-better-than-one/" target="_blank" rel="noopener noreferrer">&quot;cluster time&quot;</a>.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fault-models">Fault Models<a href="#fault-models" class="hash-link" aria-label="Direct link to Fault Models" title="Direct link to Fault Models">​</a></h2><p>We adopt the following fault models with respect to storage, network, memory and processing:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="storage-fault-model">Storage Fault Model<a href="#storage-fault-model" class="hash-link" aria-label="Direct link to Storage Fault Model" title="Direct link to Storage Fault Model">​</a></h3><ul><li><p>Disks experience data corruption with significant and material probability.</p></li><li><p>Disk firmware or hardware may cause writes to be misdirected and written to the wrong sector, or
not written at all, with low but nevertheless material probability.</p></li><li><p>Disk firmware or hardware may cause reads to be misdirected and read from the wrong sector, or not
read at all, with low but nevertheless material probability.</p></li><li><p>Corruption does not always imply a system crash. Data may be corrupted at any time during its
storage lifecycle: before being written, while being written, after being written, and while being
read.</p></li><li><p>Disk sector writes are not atomic. For example, an Advanced Format 4096 byte sector write to a
disk with an emulated logical sector size of 4096 bytes, but a physical sector size of 512 bytes
is not atomic and would be split into 8 physical sector writes, which may or may not be atomic.
Therefore, we do not depend on any sector atomicity guarantees from the disk.</p></li><li><p>The Linux kernel page cache is not reliable and may misrepresent the state of data on disk after
an EIO or latent sector error. See
<em><a href="https://www.usenix.org/system/files/atc20-rebello.pdf" target="_blank" rel="noopener noreferrer">Can Applications Recover from fsync Failures?</a></em>
from the University of Wisconsin – Madison presented at the 2020 USENIX Annual Technical
Conference.</p></li><li><p>File system metadata (such as a file&#x27;s size) is unreliable and may change at any time.</p></li><li><p>Disk performance and read and write latencies can sometimes be volatile, causing latency spikes on
the order of seconds. A slow disk does not always indicate a failing disk, and a slow disk may
return to median performance levels — for example, an SSD undergoing garbage collection.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="network-fault-model">Network Fault Model<a href="#network-fault-model" class="hash-link" aria-label="Direct link to Network Fault Model" title="Direct link to Network Fault Model">​</a></h3><ul><li><p>Messages may be lost.</p></li><li><p>Messages may be corrupted.</p></li><li><p>Messages may be delayed.</p></li><li><p>Messages may be replayed.</p></li><li><p>TCP checksums are inadequate to prevent checksum collisions.</p></li><li><p>Network performance may be asymmetrical for the upload and download paths.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="memory-fault-model">Memory Fault Model<a href="#memory-fault-model" class="hash-link" aria-label="Direct link to Memory Fault Model" title="Direct link to Memory Fault Model">​</a></h3><ul><li><p>Memory protected with error-correcting codes is sufficient for our purpose. We make no further
effort to protect against memory faults.</p></li><li><p>Non-ECC memory is not recommended by TigerBeetle.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="processing-fault-model">Processing Fault Model<a href="#processing-fault-model" class="hash-link" aria-label="Direct link to Processing Fault Model" title="Direct link to Processing Fault Model">​</a></h3><ul><li><p>The system may crash at any time.</p></li><li><p>The system may freeze process execution for minutes or hours at a time, for example, during a VM
migration.</p></li><li><p>The system clock may jump backwards or forwards in time, at any time.</p></li><li><p>NTP can help, but we cannot depend on NTP for strict serializability.</p></li><li><p>NTP may stop working because of a network partition, which may not impact TigerBeetle. We,
therefore, need to detect when a TigerBeetle cluster&#x27;s clocks are not being synchronized by NTP so
that financial transaction timestamps are accurate and within the operator&#x27;s tolerance for error.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="is-tigerbeetle-acid-compliant">Is TigerBeetle ACID-compliant?<a href="#is-tigerbeetle-acid-compliant" class="hash-link" aria-label="Direct link to Is TigerBeetle ACID-compliant?" title="Direct link to Is TigerBeetle ACID-compliant?">​</a></h2><p>Yes. Let&#x27;s discuss each part:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="atomicity">Atomicity<a href="#atomicity" class="hash-link" aria-label="Direct link to Atomicity" title="Direct link to Atomicity">​</a></h3><p>As part of replication, each operation is durably stored in at least a quorum of replicas&#x27;
Write-Ahead Logs (WAL) before the primary will acknowledge the operation as committed. WAL entries
are executed through the state machine business logic and the resulting state changes are stored in
TigerBeetle&#x27;s LSM-Forest local storage engine.</p><p>The WAL is what allows TigerBeetle to achieve atomicity and durability since the WAL is the source
of truth. If TigerBeetle crashes, the WAL is replayed at startup from the last checkpoint on disk.</p><p>However, financial atomicity goes further than this: events and transfers can be linked when created
so they all succeed or fail together.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="consistency">Consistency<a href="#consistency" class="hash-link" aria-label="Direct link to Consistency" title="Direct link to Consistency">​</a></h3><p>TigerBeetle guarantees strict serializability. And at the cluster level, stale reads are not
possible since all operations (not only writes, but also reads) go through the global consensus
protocol.</p><p>However, financial consistency requires more than this. TigerBeetle exposes a double-entry
accounting API to guarantee that money cannot be created or destroyed, but only transferred from one
account to another. And transfer history is immutable.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="isolation">Isolation<a href="#isolation" class="hash-link" aria-label="Direct link to Isolation" title="Direct link to Isolation">​</a></h3><p>All client requests (and all events within a client request batch) are executed with the highest
level of isolation, serially through the state machine, one after another, before the next operation
begins. Counterintuitively, the use of batching and serial execution means that TigerBeetle can also
provide this level of isolation optimally, without the cost of locks for all the individual events
within a batch.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="durability">Durability<a href="#durability" class="hash-link" aria-label="Direct link to Durability" title="Direct link to Durability">​</a></h3><p>Up until 2018, traditional DBMS durability has focused on the Crash Consistency Model, however,
Fsyncgate and
<a href="https://www.usenix.org/conference/fast18/presentation/alagappan" target="_blank" rel="noopener noreferrer">Protocol Aware Recovery</a> have
shown that this model can lead to real data loss for users in the wild. TigerBeetle therefore adopts
an explicit storage fault model, which we then verify and test with incredible levels of corruption,
something which few distributed systems historically were designed to handle. Our emphasis on
protecting Durability is what sets TigerBeetle apart, not only as a ledger but as a DBMS.</p><p>However, absolute durability is impossible, because all hardware can ultimately fail. Data we write
today might not be available tomorrow. TigerBeetle embraces limited disk reliability and maximizes
data durability in spite of imperfect disks. We actively work against such entropy by taking
advantage of cluster-wide storage. A record would need to get corrupted on all replicas in a cluster
to get lost, and even in that case the system would safely halt.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="io_uring-security"><code>io_uring</code> Security<a href="#io_uring-security" class="hash-link" aria-label="Direct link to io_uring-security" title="Direct link to io_uring-security">​</a></h2><p><code>io_uring</code> is a relatively new part of the Linux kernel (support for it was added in version 5.1,
which was released in May 2019). Since then, many kernel exploits have been found related to
<code>io_uring</code> and in 2023
<a href="https://security.googleblog.com/2023/06/learnings-from-kctf-vrps-42-linux.html" target="_blank" rel="noopener noreferrer">Google announced</a>
that they were disabling it in ChromeOS, for Android apps, and on Google production servers.</p><p>Google&#x27;s post is primarily about how they secure operating systems and web servers that handle
hostile user content. In the Google blog post, they specifically note:</p><blockquote><p>we currently consider it safe only for use by trusted components</p></blockquote><p>As a financial system of record, TigerBeetle is a trusted component and it should be running in a
trusted environment.</p><p>Furthermore, TigerBeetle only uses 128-byte <a href="/reference/account"><code>Account</code>s</a> and
<a href="/reference/transfer"><code>Transfer</code>s</a> with pure integer fields. TigerBeetle has no
(de)serialization and does not take user-generated strings, which significantly constrains the
attack surface.</p><p>We are confident that <code>io_uring</code> is the safest (and most performant) way for TigerBeetle to handle
async I/O. It is significantly easier for the kernel to implement this correctly than for us to
include a userspace multithreaded thread pool (for example, as libuv does).</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/tigerbeetle/tigerbeetle/blob/main/docs/about/safety.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/about/performance"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Performance</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/about/vopr"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deterministic Simulation Testing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#fault-models" class="table-of-contents__link toc-highlight">Fault Models</a><ul><li><a href="#storage-fault-model" class="table-of-contents__link toc-highlight">Storage Fault Model</a></li><li><a href="#network-fault-model" class="table-of-contents__link toc-highlight">Network Fault Model</a></li><li><a href="#memory-fault-model" class="table-of-contents__link toc-highlight">Memory Fault Model</a></li><li><a href="#processing-fault-model" class="table-of-contents__link toc-highlight">Processing Fault Model</a></li></ul></li><li><a href="#is-tigerbeetle-acid-compliant" class="table-of-contents__link toc-highlight">Is TigerBeetle ACID-compliant?</a><ul><li><a href="#atomicity" class="table-of-contents__link toc-highlight">Atomicity</a></li><li><a href="#consistency" class="table-of-contents__link toc-highlight">Consistency</a></li><li><a href="#isolation" class="table-of-contents__link toc-highlight">Isolation</a></li><li><a href="#durability" class="table-of-contents__link toc-highlight">Durability</a></li></ul></li><li><a href="#io_uring-security" class="table-of-contents__link toc-highlight"><code>io_uring</code> Security</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a href="https://github.com/tigerbeetle/tigerbeetle" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://slack.tigerbeetle.com/invite" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://mailchi.mp/8e9fa0f36056/subscribe-to-tigerbeetle" target="_blank" rel="noopener noreferrer" class="footer__link-item">Newsletter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://twitter.com/tigerbeetledb" target="_blank" rel="noopener noreferrer" class="footer__link-item">𝕏<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://linkedin.com/company/tigerbeetle" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://www.youtube.com/@tigerbeetledb" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://tigerbeetle.com/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/logo-with-text-white.svg" alt="TigerBeetle Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/logo-with-text-white.svg" alt="TigerBeetle Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">Copyright © 2024 TigerBeetle, Inc. All rights reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.7d4944d4.js"></script>
<script src="/assets/js/main.1b5a2d18.js"></script>
</body>
</html>