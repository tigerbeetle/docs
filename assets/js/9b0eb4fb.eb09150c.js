"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[885],{3905:(t,e,n)=>{n.d(e,{Zo:()=>m,kt:()=>s});var a=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var o=a.createContext({}),p=function(t){var e=a.useContext(o),n=e;return t&&(n="function"==typeof t?t(e):l(l({},e),t)),n},m=function(t){var e=p(t.components);return a.createElement(o.Provider,{value:e},t.children)},g="mdxType",k={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},c=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,i=t.originalType,o=t.parentName,m=d(t,["components","mdxType","originalType","parentName"]),g=p(n),c=r,s=g["".concat(o,".").concat(c)]||g[c]||k[c]||i;return n?a.createElement(s,l(l({ref:e},m),{},{components:n})):a.createElement(s,l({ref:e},m))}));function s(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=n.length,l=new Array(i);l[0]=c;var d={};for(var o in e)hasOwnProperty.call(e,o)&&(d[o]=e[o]);d.originalType=t,d[g]="string"==typeof t?t:r,l[1]=d;for(var p=2;p<i;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},5074:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>o,contentTitle:()=>l,default:()=>k,frontMatter:()=>i,metadata:()=>d,toc:()=>p});var a=n(7462),r=(n(7294),n(3905));const i={sidebar_position:2},l="Multi-Debit, Multi-Credit Transfers",d={unversionedId:"coding/recipes/multi-debit-credit-transfers",id:"coding/recipes/multi-debit-credit-transfers",title:"Multi-Debit, Multi-Credit Transfers",description:"TigerBeetle is designed for maximum performance. In order to keep it lean, the database only",source:"@site/pages/coding/recipes/multi-debit-credit-transfers.md",sourceDirName:"coding/recipes",slug:"/coding/recipes/multi-debit-credit-transfers",permalink:"/coding/recipes/multi-debit-credit-transfers",draft:!1,editUrl:"https://github.com/tigerbeetle/tigerbeetle/blob/main/docs/coding/recipes/multi-debit-credit-transfers.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Currency Exchange",permalink:"/coding/recipes/currency-exchange"},next:{title:"Close Account",permalink:"/coding/recipes/close-account"}},o={},p=[{value:"One-to-Many Transfers",id:"one-to-many-transfers",level:2},{value:"Single Debit, Multiple Credits",id:"single-debit-multiple-credits",level:3},{value:"Multiple Debits, Single Credit",id:"multiple-debits-single-credit",level:3},{value:"Multiple Debits, Single Credit, Balancing debits",id:"multiple-debits-single-credit-balancing-debits",level:3},{value:"Many-to-Many Transfers",id:"many-to-many-transfers",level:2}],m={toc:p},g="wrapper";function k(t){let{components:e,...n}=t;return(0,r.kt)(g,(0,a.Z)({},m,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"multi-debit-multi-credit-transfers"},"Multi-Debit, Multi-Credit Transfers"),(0,r.kt)("p",null,"TigerBeetle is designed for maximum performance. In order to keep it lean, the database only\nsupports simple transfers with a single debit and a single credit."),(0,r.kt)("p",null,"However, you'll probably run into cases where you want transactions with multiple debits and/or\ncredits. For example, you might have a transfer where you want to extract fees and/or taxes."),(0,r.kt)("p",null,"Read on to see how to implement one-to-many and many-to-many transfers!"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note that all of these examples use the\n",(0,r.kt)("a",{parentName:"p",href:"/reference/transfer#flagslinked"},"Linked Transfers flag (",(0,r.kt)("inlineCode",{parentName:"a"},"flags.linked"),")")," to ensure\nthat all of the transfers succeed or fail together.")),(0,r.kt)("h2",{id:"one-to-many-transfers"},"One-to-Many Transfers"),(0,r.kt)("p",null,"Transactions that involve multiple debits and a single credit OR a single debit and multiple credits\nare relatively straightforward."),(0,r.kt)("p",null,"You can use multiple linked transfers as depicted below."),(0,r.kt)("h3",{id:"single-debit-multiple-credits"},"Single Debit, Multiple Credits"),(0,r.kt)("p",null,"This example debits a single account and credits multiple accounts. It uses the following accounts:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A ",(0,r.kt)("em",{parentName:"li"},"source account")," ",(0,r.kt)("inlineCode",{parentName:"li"},"A"),", on the ",(0,r.kt)("inlineCode",{parentName:"li"},"USD")," ledger."),(0,r.kt)("li",{parentName:"ul"},"Three ",(0,r.kt)("em",{parentName:"li"},"destination accounts")," ",(0,r.kt)("inlineCode",{parentName:"li"},"X"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"Y"),", and ",(0,r.kt)("inlineCode",{parentName:"li"},"Z"),", on the ",(0,r.kt)("inlineCode",{parentName:"li"},"USD")," ledger.")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"right"},"Ledger"),(0,r.kt)("th",{parentName:"tr",align:"right"},"Debit Account"),(0,r.kt)("th",{parentName:"tr",align:"right"},"Credit Account"),(0,r.kt)("th",{parentName:"tr",align:"right"},"Amount"),(0,r.kt)("th",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"th"},"flags.linked")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"USD"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"A")),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"X")),(0,r.kt)("td",{parentName:"tr",align:"right"},"10000"),(0,r.kt)("td",{parentName:"tr",align:"right"},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"USD"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"A")),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"Y")),(0,r.kt)("td",{parentName:"tr",align:"right"},"50"),(0,r.kt)("td",{parentName:"tr",align:"right"},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"USD"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"A")),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"Z")),(0,r.kt)("td",{parentName:"tr",align:"right"},"10"),(0,r.kt)("td",{parentName:"tr",align:"right"},"false")))),(0,r.kt)("h3",{id:"multiple-debits-single-credit"},"Multiple Debits, Single Credit"),(0,r.kt)("p",null,"This example debits multiple accounts and credits a single account. It uses the following accounts:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Three ",(0,r.kt)("em",{parentName:"li"},"source accounts")," ",(0,r.kt)("inlineCode",{parentName:"li"},"A"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"B"),", and ",(0,r.kt)("inlineCode",{parentName:"li"},"C")," on the ",(0,r.kt)("inlineCode",{parentName:"li"},"USD")," ledger."),(0,r.kt)("li",{parentName:"ul"},"A ",(0,r.kt)("em",{parentName:"li"},"destination account")," ",(0,r.kt)("inlineCode",{parentName:"li"},"X")," on the ",(0,r.kt)("inlineCode",{parentName:"li"},"USD")," ledger.")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"right"},"Ledger"),(0,r.kt)("th",{parentName:"tr",align:"right"},"Debit Account"),(0,r.kt)("th",{parentName:"tr",align:"right"},"Credit Account"),(0,r.kt)("th",{parentName:"tr",align:"right"},"Amount"),(0,r.kt)("th",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"th"},"flags.linked")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"USD"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"A")),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"X")),(0,r.kt)("td",{parentName:"tr",align:"right"},"10000"),(0,r.kt)("td",{parentName:"tr",align:"right"},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"USD"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"B")),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"X")),(0,r.kt)("td",{parentName:"tr",align:"right"},"50"),(0,r.kt)("td",{parentName:"tr",align:"right"},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"USD"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"C")),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"X")),(0,r.kt)("td",{parentName:"tr",align:"right"},"10"),(0,r.kt)("td",{parentName:"tr",align:"right"},"false")))),(0,r.kt)("h3",{id:"multiple-debits-single-credit-balancing-debits"},"Multiple Debits, Single Credit, Balancing debits"),(0,r.kt)("p",null,"This example debits multiple accounts and credits a single account.\nThe total amount to transfer to the credit account is known (in this case, ",(0,r.kt)("inlineCode",{parentName:"p"},"100"),"), but the balances\nof the individual debit accounts are not known. That is, each debit account should contribute as\nmuch as possible (in order of precedence) up to the target, cumulative transfer amount."),(0,r.kt)("p",null,"It uses the following accounts:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Three ",(0,r.kt)("em",{parentName:"li"},"source accounts")," ",(0,r.kt)("inlineCode",{parentName:"li"},"A"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"B"),", and ",(0,r.kt)("inlineCode",{parentName:"li"},"C"),", with ",(0,r.kt)("a",{parentName:"li",href:"/reference/account#flagsdebits_must_not_exceed_credits"},(0,r.kt)("inlineCode",{parentName:"a"},"flags.debits_must_not_exceed_credits")),"."),(0,r.kt)("li",{parentName:"ul"},"A ",(0,r.kt)("em",{parentName:"li"},"destination account")," ",(0,r.kt)("inlineCode",{parentName:"li"},"X"),"."),(0,r.kt)("li",{parentName:"ul"},"A control account ",(0,r.kt)("inlineCode",{parentName:"li"},"LIMIT"),", with ",(0,r.kt)("a",{parentName:"li",href:"/reference/account#flagsdebits_must_not_exceed_credits"},(0,r.kt)("inlineCode",{parentName:"a"},"flags.debits_must_not_exceed_credits")),"."),(0,r.kt)("li",{parentName:"ul"},"A control account ",(0,r.kt)("inlineCode",{parentName:"li"},"SETUP"),", for setting up the ",(0,r.kt)("inlineCode",{parentName:"li"},"LIMIT")," account.")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"right"},"Id"),(0,r.kt)("th",{parentName:"tr",align:"right"},"Ledger"),(0,r.kt)("th",{parentName:"tr",align:"right"},"Debit Account"),(0,r.kt)("th",{parentName:"tr",align:"right"},"Credit Account"),(0,r.kt)("th",{parentName:"tr",align:"right"},"Amount"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Flags"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"1"),(0,r.kt)("td",{parentName:"tr",align:"right"},"USD"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"SETUP")),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"LIMIT")),(0,r.kt)("td",{parentName:"tr",align:"right"},"100"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/reference/transfer#flagslinked"},(0,r.kt)("inlineCode",{parentName:"a"},"linked")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"2"),(0,r.kt)("td",{parentName:"tr",align:"right"},"USD"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"A")),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"SETUP")),(0,r.kt)("td",{parentName:"tr",align:"right"},"100"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/reference/transfer#flagslinked"},(0,r.kt)("inlineCode",{parentName:"a"},"linked")),", ",(0,r.kt)("a",{parentName:"td",href:"/reference/transfer#flagsbalancing_debit"},(0,r.kt)("inlineCode",{parentName:"a"},"balancing_debit")),", ",(0,r.kt)("a",{parentName:"td",href:"/reference/transfer#flagsbalancing_credit"},(0,r.kt)("inlineCode",{parentName:"a"},"balancing_credit")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"3"),(0,r.kt)("td",{parentName:"tr",align:"right"},"USD"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"B")),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"SETUP")),(0,r.kt)("td",{parentName:"tr",align:"right"},"100"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/reference/transfer#flagslinked"},(0,r.kt)("inlineCode",{parentName:"a"},"linked")),", ",(0,r.kt)("a",{parentName:"td",href:"/reference/transfer#flagsbalancing_debit"},(0,r.kt)("inlineCode",{parentName:"a"},"balancing_debit")),", ",(0,r.kt)("a",{parentName:"td",href:"/reference/transfer#flagsbalancing_credit"},(0,r.kt)("inlineCode",{parentName:"a"},"balancing_credit")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"4"),(0,r.kt)("td",{parentName:"tr",align:"right"},"USD"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"C")),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"SETUP")),(0,r.kt)("td",{parentName:"tr",align:"right"},"100"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/reference/transfer#flagslinked"},(0,r.kt)("inlineCode",{parentName:"a"},"linked")),", ",(0,r.kt)("a",{parentName:"td",href:"/reference/transfer#flagsbalancing_debit"},(0,r.kt)("inlineCode",{parentName:"a"},"balancing_debit")),", ",(0,r.kt)("a",{parentName:"td",href:"/reference/transfer#flagsbalancing_credit"},(0,r.kt)("inlineCode",{parentName:"a"},"balancing_credit")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"5"),(0,r.kt)("td",{parentName:"tr",align:"right"},"USD"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"SETUP")),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"X")),(0,r.kt)("td",{parentName:"tr",align:"right"},"100"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/reference/transfer#flagslinked"},(0,r.kt)("inlineCode",{parentName:"a"},"linked")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"6"),(0,r.kt)("td",{parentName:"tr",align:"right"},"USD"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"LIMIT")),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"SETUP")),(0,r.kt)("td",{parentName:"tr",align:"right"},"-0"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/reference/transfer#flagsbalancing_credit"},(0,r.kt)("inlineCode",{parentName:"a"},"balancing_credit")))))),(0,r.kt)("p",null,"If the cumulative ",(0,r.kt)("a",{parentName:"p",href:"/coding/data-modeling#credit-balances"},"credit balance")," of ",(0,r.kt)("inlineCode",{parentName:"p"},"A + B + C")," is less than\n",(0,r.kt)("inlineCode",{parentName:"p"},"100"),", the chain will fail (transfer ",(0,r.kt)("inlineCode",{parentName:"p"},"6")," will return ",(0,r.kt)("inlineCode",{parentName:"p"},"exceeds_credits"),")."),(0,r.kt)("h2",{id:"many-to-many-transfers"},"Many-to-Many Transfers"),(0,r.kt)("p",null,"Transactions with multiple debits and multiple credits are a bit more involved (but you got this!)."),(0,r.kt)("p",null,"This is where the accounting concept of a Control Account comes in handy. We can use this as an\nintermediary account, as illustrated below."),(0,r.kt)("p",null,"In this example, we'll use the following accounts:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Two ",(0,r.kt)("em",{parentName:"li"},"source accounts")," ",(0,r.kt)("inlineCode",{parentName:"li"},"A")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"B")," on the ",(0,r.kt)("inlineCode",{parentName:"li"},"USD")," ledger."),(0,r.kt)("li",{parentName:"ul"},"Three ",(0,r.kt)("em",{parentName:"li"},"destination accounts")," ",(0,r.kt)("inlineCode",{parentName:"li"},"X"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"Y"),", and ",(0,r.kt)("inlineCode",{parentName:"li"},"Z"),", on the ",(0,r.kt)("inlineCode",{parentName:"li"},"USD")," ledger."),(0,r.kt)("li",{parentName:"ul"},"A ",(0,r.kt)("em",{parentName:"li"},"compound entry control account")," ",(0,r.kt)("inlineCode",{parentName:"li"},"Control")," on the ",(0,r.kt)("inlineCode",{parentName:"li"},"USD")," ledger.")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"right"},"Ledger"),(0,r.kt)("th",{parentName:"tr",align:"right"},"Debit Account"),(0,r.kt)("th",{parentName:"tr",align:"right"},"Credit Account"),(0,r.kt)("th",{parentName:"tr",align:"right"},"Amount"),(0,r.kt)("th",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"th"},"flags.linked")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"USD"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"A")),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"Control")),(0,r.kt)("td",{parentName:"tr",align:"right"},"10000"),(0,r.kt)("td",{parentName:"tr",align:"right"},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"USD"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"B")),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"Control")),(0,r.kt)("td",{parentName:"tr",align:"right"},"50"),(0,r.kt)("td",{parentName:"tr",align:"right"},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"USD"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"Control")),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"X")),(0,r.kt)("td",{parentName:"tr",align:"right"},"9000"),(0,r.kt)("td",{parentName:"tr",align:"right"},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"USD"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"Control")),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"Y")),(0,r.kt)("td",{parentName:"tr",align:"right"},"1000"),(0,r.kt)("td",{parentName:"tr",align:"right"},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"USD"),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"Control")),(0,r.kt)("td",{parentName:"tr",align:"right"},(0,r.kt)("inlineCode",{parentName:"td"},"Z")),(0,r.kt)("td",{parentName:"tr",align:"right"},"50"),(0,r.kt)("td",{parentName:"tr",align:"right"},"false")))),(0,r.kt)("p",null,"Here, we use two transfers to debit accounts ",(0,r.kt)("inlineCode",{parentName:"p"},"A")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"B")," and credit the ",(0,r.kt)("inlineCode",{parentName:"p"},"Control")," account, and\nanother three transfers to credit accounts ",(0,r.kt)("inlineCode",{parentName:"p"},"X"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Y"),", and ",(0,r.kt)("inlineCode",{parentName:"p"},"Z"),"."),(0,r.kt)("p",null,"If you looked closely at this example, you may have noticed that we could have debited ",(0,r.kt)("inlineCode",{parentName:"p"},"B")," and\ncredited ",(0,r.kt)("inlineCode",{parentName:"p"},"Z")," directly because the amounts happened to line up. That is true!"),(0,r.kt)("p",null,"For a little more extreme performance, you ",(0,r.kt)("em",{parentName:"p"},"might")," consider implementing logic to circumvent the\ncontrol account where possible, to reduce the number of transfers to implement a compound journal\nentry."),(0,r.kt)("p",null,"However, if you're just getting started, you can avoid premature optimizations (we've all been\nthere!). You may find it easier to program these compound journal entries ",(0,r.kt)("em",{parentName:"p"},"always")," using a control\naccount -- and you can then come back to squeeze this performance out later!"))}k.isMDXComponent=!0}}]);