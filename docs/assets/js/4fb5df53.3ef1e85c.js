"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[994],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>g});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),p=c(n),m=a,g=p["".concat(s,".").concat(m)]||p[m]||u[m]||i;return n?r.createElement(g,l(l({ref:t},d),{},{components:n})):r.createElement(g,l({ref:t},d))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,l=new Array(i);l[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[p]="string"==typeof e?e:a,l[1]=o;for(var c=2;c<i;c++)l[c]=n[c];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2349:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var r=n(7462),a=(n(7294),n(3905));const i={title:".NET"},l="tigerbeetle-dotnet",o={unversionedId:"clients/dotnet",id:"clients/dotnet",title:".NET",description:"TigerBeetle client for C# and .Net",source:"@site/pages/clients/dotnet.md",sourceDirName:"clients",slug:"/clients/dotnet",permalink:"/clients/dotnet",draft:!1,editUrl:"https://github.com/tigerbeetledb/tigerbeetle/blob/main/docs/clients/dotnet.md",tags:[],version:"current",frontMatter:{title:".NET"},sidebar:"tutorialSidebar",previous:{title:"Two-phase Transfer",permalink:"/usage/two-phase-transfer"},next:{title:"Go",permalink:"/clients/go"}},s={},c=[{value:"Usage",id:"usage",level:2},{value:"Account Creation",id:"account-creation",level:3},{value:"Creating a Transfer",id:"creating-a-transfer",level:3},{value:"Build from source",id:"build-from-source",level:2},{value:"1. Clone this repository",id:"1-clone-this-repository",level:3},{value:"2. Install Zig and Tigerbeetle",id:"2-install-zig-and-tigerbeetle",level:3},{value:"3. Build dotnet client",id:"3-build-dotnet-client",level:3},{value:"License",id:"license",level:2}],d={toc:c},p="wrapper";function u(e){let{components:t,...n}=e;return(0,a.kt)(p,(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"tigerbeetle-dotnet"},"tigerbeetle-dotnet"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/tigerbeetledb/tigerbeetle"},"TigerBeetle")," client for C# and .Net"),(0,a.kt)("h2",{id:"usage"},"Usage"),(0,a.kt)("p",null,"A client needs to be configured with a ",(0,a.kt)("inlineCode",{parentName:"p"},"clusterID")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"replicaAddresses"),".\nThe ",(0,a.kt)("inlineCode",{parentName:"p"},"Client")," class is thread-safe and for better performance, a single instance should be shared between multiple concurrent tasks.\nMultiple clients can be instantiated in case of connecting to more than one TigerBeetle cluster."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-C#"},'var client = new Client(clusterID: 0, replicaAddresses: new[] { "3001", "3002", "3003" });\n')),(0,a.kt)("h3",{id:"account-creation"},"Account Creation"),(0,a.kt)("p",null,"All TigerBeetle's IDs are 128-bit integers, and ",(0,a.kt)("inlineCode",{parentName:"p"},"tigerbeetle-dotnet")," client accepts a wide range of dotnet values: ",(0,a.kt)("inlineCode",{parentName:"p"},"int"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"uint"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"long"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"ulong"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"Guid"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"byte[]")," and the custom type ",(0,a.kt)("inlineCode",{parentName:"p"},"UInt128"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-C#"},"var accounts = new[] {\n    new Account\n    {\n        Id = 1,\n        UserData = Guid.NewGuid(),\n        Code = 2,\n        Ledger = 720,\n    },     \n};\n\nvar errors = client.CreateAccounts(accounts);\n")),(0,a.kt)("p",null,"Successfully executed events return an empty array whilst unsuccessful ones return an array with errors for only the ones that failed. An error will point to the index in the submitted array of the failed event."),(0,a.kt)("h3",{id:"creating-a-transfer"},"Creating a Transfer"),(0,a.kt)("p",null,"Amounts are 64-bit unsigned integers values."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-C#"},"transfers = new[] {\n    new Transfer\n    {\n        Id = 100,\n        DebitAccountId = accountA.Id,\n        CreditAccountId = accountB.Id,\n        Code = 1,\n        Ledger = 720,\n        Amount = 100,\n    },\n}\n\nvar errors = await client.CreateTransfersAsync(accounts);\n")),(0,a.kt)("h2",{id:"build-from-source"},"Build from source"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Prerequisites:")),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://dotnet.microsoft.com/en-us/download"},"dotnet 6")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Dotnet 6 is needed only to build and run the tests, this library can be used from any ",(0,a.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/dotnet/standard/net-standard"},".Net Standard 2.1 compatible runtime")," (.Net Core, Xamarin, etc)\nFor Windows users, there is a ",(0,a.kt)("inlineCode",{parentName:"p"},".sln")," solution file that can be opened with ",(0,a.kt)("inlineCode",{parentName:"p"},"Microsoft Visual Studio 2022"),".")),(0,a.kt)("h3",{id:"1-clone-this-repository"},"1. Clone this repository"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/tigerbeetledb/tigerbeetle.git\ncd tigerbeetle\n")),(0,a.kt)("h3",{id:"2-install-zig-and-tigerbeetle"},"2. Install Zig and Tigerbeetle"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Linux and macOS")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"./scripts/install.sh\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Windows")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cmd"},".\\scripts\\install.bat\n")),(0,a.kt)("h3",{id:"3-build-dotnet-client"},"3. Build dotnet client"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Linux and macOS")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"cd src/clients/dotnet\ndotnet build\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Windows")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cmd"},"cd src\\clients\\dotnet\ndotnet build\n")),(0,a.kt)("h2",{id:"license"},"License"),(0,a.kt)("p",null,'Licensed under the Apache License, Version 2.0 (the "License"); you may not use these files except in compliance with the License. You may obtain a copy of the License at'),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://www.apache.org/licenses/LICENSE-2.0"},"https://www.apache.org/licenses/LICENSE-2.0")),(0,a.kt)("p",null,'Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.'))}u.isMDXComponent=!0}}]);